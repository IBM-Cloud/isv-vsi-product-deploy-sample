{
  "version": 4,
  "terraform_version": "0.12.18",
  "serial": 11,
  "lineage": "72ab5c84-13ae-6bc0-8e68-fc7bd02e9076",
  "outputs": {},
  "resources": [
    {
      "mode": "data",
      "type": "ibm_is_instance_profile",
      "name": "vnf_profile",
      "provider": "provider.ibm",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "architecture": "amd64",
            "family": "balanced",
            "id": "bx2-2x8",
            "name": "bx2-2x8"
          }
        }
      ]
    },
    {
      "mode": "data",
      "type": "ibm_is_region",
      "name": "region",
      "provider": "provider.ibm",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "endpoint": "https://us-south.iaas.cloud.ibm.com",
            "id": "us-south",
            "name": "us-south",
            "status": "available"
          }
        }
      ]
    },
    {
      "mode": "data",
      "type": "ibm_is_ssh_key",
      "name": "vnf_ssh_pub_key",
      "provider": "provider.ibm",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "fingerprint": "SHA256:T+MiWxQNpNIuMDud6tZev8qbVDwp/TCkIcQyM+HNZ0Y",
            "id": "r006-337a4b7a-41aa-474d-beab-d3af68ec0987",
            "length": 2048,
            "name": "malar-ssh-key",
            "resource_controller_url": "https://cloud.ibm.com/vpc/compute/sshKeys",
            "resource_crn": "crn:v1:bluemix:public:is:us-south:a/6991a6797b7b4754947b081d8dedc6e7::key:r006-337a4b7a-41aa-474d-beab-d3af68ec0987",
            "resource_group_name": "d9f8a62471f84a0cbb48e4cf4809fbd2",
            "resource_name": "malar-ssh-key",
            "type": "rsa"
          }
        }
      ]
    },
    {
      "mode": "data",
      "type": "ibm_is_subnet",
      "name": "vnf_subnet",
      "provider": "provider.ibm",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "available_ipv4_address_count": 236,
            "id": "0717-27a83579-1be2-4440-8fae-c8c35c898932",
            "identifier": "0717-27a83579-1be2-4440-8fae-c8c35c898932",
            "ipv4_cidr_block": "10.240.0.0/24",
            "ipv6_cidr_block": null,
            "name": "malar-f5-subnet",
            "network_acl": "r006-59006689-92aa-499f-871a-fc5a3fedcbfd",
            "public_gateway": "",
            "resource_controller_url": "https://cloud.ibm.com/vpc-ext/network/subnets",
            "resource_crn": "crn:v1:bluemix:public:is:us-south-1:a/6991a6797b7b4754947b081d8dedc6e7::subnet:0717-27a83579-1be2-4440-8fae-c8c35c898932",
            "resource_group": "42ee88169dd7406584925447bc5b25eb",
            "resource_group_name": "Default",
            "resource_name": "malar-f5-subnet",
            "resource_status": "available",
            "status": "available",
            "total_ipv4_address_count": 256,
            "vpc": "r006-5784a352-2d12-4c93-8d08-d790e5940e28",
            "zone": "us-south-1"
          }
        }
      ]
    },
    {
      "mode": "data",
      "type": "template_file",
      "name": "user_data",
      "provider": "provider.template",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "filename": null,
            "id": "5075a910eda5d496a6179b37e99c2e47cf263cc69375c944ece8042b22833af6",
            "rendered": "#cloud-config\nssh_pwauth: True\nssh_authorized_keys:\n  - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDFM6snqAAxtsinjaTFX50RdwIv7x1tc6lN2Az22iyH9rz1ap4kaeeKxHR+9wYP5S8riM/QGFmZsahlo0cQg1FJzzBBfmGagGh8+c0wOXRiQUGc28n+D8idapzLCq+hgQ1i1gpBv5EhFX0WCG5mm+BCc7+TK70ZFHvfoxvJ1n4wX+UvW5MA8Sh8EQUQxhhyoND7pTBsop2xhTYN8qWIIZVVerhwMFbF+DI/3hi268mNgrUMQnK0A89oCpqX5YMVgqS0CXq+fkroO+ixC9tOynQ6hs6HB0ls7cfCpIfF6xc8Wo1yzwQoVE07phs/6kJt69zMztee8J1jSI0TJLd6iEXL malark@Malars-MacBook-Pro-2.local\n",
            "template": "#cloud-config\nssh_pwauth: True\nssh_authorized_keys:\n  - ${ssh_key}\n",
            "vars": {
              "ssh_key": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDFM6snqAAxtsinjaTFX50RdwIv7x1tc6lN2Az22iyH9rz1ap4kaeeKxHR+9wYP5S8riM/QGFmZsahlo0cQg1FJzzBBfmGagGh8+c0wOXRiQUGc28n+D8idapzLCq+hgQ1i1gpBv5EhFX0WCG5mm+BCc7+TK70ZFHvfoxvJ1n4wX+UvW5MA8Sh8EQUQxhhyoND7pTBsop2xhTYN8qWIIZVVerhwMFbF+DI/3hi268mNgrUMQnK0A89oCpqX5YMVgqS0CXq+fkroO+ixC9tOynQ6hs6HB0ls7cfCpIfF6xc8Wo1yzwQoVE07phs/6kJt69zMztee8J1jSI0TJLd6iEXL malark@Malars-MacBook-Pro-2.local"
            }
          }
        }
      ]
    },
    {
      "mode": "managed",
      "type": "ibm_is_image",
      "name": "vnf_custom_image",
      "provider": "provider.ibm",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "encrypted_data_key": null,
            "encryption": "none",
            "encryption_key": null,
            "file": null,
            "href": "https://us-south.iaas.cloud.ibm.com/v1/images/r006-7c7ab455-00ed-4afc-91a4-e739b998ea8d",
            "id": "r006-7c7ab455-00ed-4afc-91a4-e739b998ea8d",
            "name": "rhel7img-bff39931",
            "operating_system": "ubuntu-18-04-amd64",
            "resource_controller_url": "https://cloud.ibm.com/vpc-ext/compute/image",
            "resource_crn": "crn:v1:bluemix:public:is:us-south:a/6991a6797b7b4754947b081d8dedc6e7::image:r006-7c7ab455-00ed-4afc-91a4-e739b998ea8d",
            "resource_group": "42ee88169dd7406584925447bc5b25eb",
            "resource_group_name": null,
            "resource_name": "rhel7img-bff39931",
            "resource_status": "available",
            "size": 100,
            "status": "available",
            "tags": [],
            "timeouts": {
              "create": "30m",
              "delete": "10m",
              "update": null
            },
            "visibility": "private"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjYwMDAwMDAwMDAwMCwidXBkYXRlIjo2MDAwMDAwMDAwMDB9fQ==",
          "dependencies": [
            "random_uuid.test"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "ibm_is_instance",
      "name": "vnf_vsi",
      "provider": "provider.ibm",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "auto_delete_volume": null,
            "boot_volume": [
              {
                "encryption": "crn:v1:bluemix:public:is:us-south-1:a/6991a6797b7b4754947b081d8dedc6e7::volume:r006-e9207385-87a8-4625-b88f-8ec6ccf438f9",
                "iops": 0,
                "name": "volume-attachment",
                "profile": "",
                "size": 0
              }
            ],
            "force_recovery_time": null,
            "gpu": [],
            "id": "0717_ac70f83f-7377-4a6f-bb92-39df4743f100",
            "image": "r006-7c7ab455-00ed-4afc-91a4-e739b998ea8d",
            "keys": [
              "r006-337a4b7a-41aa-474d-beab-d3af68ec0987"
            ],
            "memory": 8,
            "name": "rhel7vsi",
            "network_interfaces": [],
            "primary_network_interface": [
              {
                "allow_ip_spoofing": false,
                "id": "0717-fb8fac97-b9a0-494f-b1da-7701a331d6d4",
                "name": "eth0",
                "port_speed": 0,
                "primary_ipv4_address": "10.240.0.30",
                "security_groups": [
                  "r006-4b17d9e2-febd-481c-b877-e56620eef5f3"
                ],
                "subnet": "0717-27a83579-1be2-4440-8fae-c8c35c898932"
              }
            ],
            "profile": "bx2-2x8",
            "resource_controller_url": "https://cloud.ibm.com/vpc-ext/compute/vs",
            "resource_crn": "crn:v1:bluemix:public:is:us-south-1:a/6991a6797b7b4754947b081d8dedc6e7::instance:0717_ac70f83f-7377-4a6f-bb92-39df4743f100",
            "resource_group": "42ee88169dd7406584925447bc5b25eb",
            "resource_group_name": "Default",
            "resource_name": "rhel7vsi",
            "resource_status": "running",
            "status": "running",
            "tags": [],
            "timeouts": null,
            "user_data": "#cloud-config\nssh_pwauth: True\nssh_authorized_keys:\n  - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDFM6snqAAxtsinjaTFX50RdwIv7x1tc6lN2Az22iyH9rz1ap4kaeeKxHR+9wYP5S8riM/QGFmZsahlo0cQg1FJzzBBfmGagGh8+c0wOXRiQUGc28n+D8idapzLCq+hgQ1i1gpBv5EhFX0WCG5mm+BCc7+TK70ZFHvfoxvJ1n4wX+UvW5MA8Sh8EQUQxhhyoND7pTBsop2xhTYN8qWIIZVVerhwMFbF+DI/3hi268mNgrUMQnK0A89oCpqX5YMVgqS0CXq+fkroO+ixC9tOynQ6hs6HB0ls7cfCpIfF6xc8Wo1yzwQoVE07phs/6kJt69zMztee8J1jSI0TJLd6iEXL malark@Malars-MacBook-Pro-2.local\n",
            "vcpu": [
              {
                "architecture": "amd64",
                "count": 2
              }
            ],
            "volume_attachments": [
              {
                "id": "0717-49fe5254-24dd-474b-b2c5-b22598131bfa",
                "name": "volume-attachment",
                "volume_crn": "crn:v1:bluemix:public:is:us-south-1:a/6991a6797b7b4754947b081d8dedc6e7::volume:r006-e9207385-87a8-4625-b88f-8ec6ccf438f9",
                "volume_id": "r006-e9207385-87a8-4625-b88f-8ec6ccf438f9",
                "volume_name": "shrapnel-coliseum-goldfish-awry"
              }
            ],
            "volumes": null,
            "vpc": "r006-5784a352-2d12-4c93-8d08-d790e5940e28",
            "wait_before_delete": true,
            "zone": "us-south-1"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInVwZGF0ZSI6MTgwMDAwMDAwMDAwMH19",
          "dependencies": [
            "ibm_is_image.vnf_custom_image",
            "ibm_is_security_group.vnf_security_group",
            "ibm_is_security_group_rule.vnf_sg_rule_out_all"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "ibm_is_security_group",
      "name": "vnf_security_group",
      "provider": "provider.ibm",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "r006-4b17d9e2-febd-481c-b877-e56620eef5f3",
            "name": "malar-rhel-security-group-1",
            "resource_controller_url": "https://cloud.ibm.com/vpc-ext/network/securityGroups",
            "resource_crn": "crn:v1:bluemix:public:is:us-south:a/6991a6797b7b4754947b081d8dedc6e7::security-group:r006-4b17d9e2-febd-481c-b877-e56620eef5f3",
            "resource_group": "42ee88169dd7406584925447bc5b25eb",
            "resource_group_name": "Default",
            "resource_name": "malar-rhel-security-group-1",
            "rules": [
              {
                "code": 0,
                "direction": "inbound",
                "ip_version": "ipv4",
                "port_max": 22,
                "port_min": 22,
                "protocol": "tcp",
                "remote": "0.0.0.0/0",
                "type": 0
              },
              {
                "code": 0,
                "direction": "inbound",
                "ip_version": "ipv4",
                "port_max": 0,
                "port_min": 0,
                "protocol": "all",
                "remote": "0.0.0.0/0",
                "type": 0
              },
              {
                "code": 0,
                "direction": "outbound",
                "ip_version": "ipv4",
                "port_max": 0,
                "port_min": 0,
                "protocol": "all",
                "remote": "0.0.0.0/0",
                "type": 0
              }
            ],
            "vpc": "r006-5784a352-2d12-4c93-8d08-d790e5940e28"
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "ibm_is_security_group_rule",
      "name": "vnf_sg_allow_ssh",
      "provider": "provider.ibm",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "direction": "inbound",
            "group": "r006-4b17d9e2-febd-481c-b877-e56620eef5f3",
            "icmp": [],
            "id": "r006-4b17d9e2-febd-481c-b877-e56620eef5f3.r006-a1b02902-e6df-400b-a009-96fd6828d216",
            "ip_version": "ipv4",
            "protocol": "tcp",
            "related_crn": "crn:v1:bluemix:public:is:us-south:a/6991a6797b7b4754947b081d8dedc6e7::security-group:r006-4b17d9e2-febd-481c-b877-e56620eef5f3",
            "remote": "0.0.0.0/0",
            "rule_id": "r006-a1b02902-e6df-400b-a009-96fd6828d216",
            "tcp": [
              {
                "port_max": 22,
                "port_min": 22
              }
            ],
            "udp": []
          },
          "private": "bnVsbA==",
          "dependencies": [
            "ibm_is_security_group.vnf_security_group"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "ibm_is_security_group_rule",
      "name": "vnf_sg_rule_in_all",
      "provider": "provider.ibm",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "direction": "inbound",
            "group": "r006-4b17d9e2-febd-481c-b877-e56620eef5f3",
            "icmp": [],
            "id": "r006-4b17d9e2-febd-481c-b877-e56620eef5f3.r006-92a6d323-43a6-4000-82df-b3ae28ca8451",
            "ip_version": "ipv4",
            "protocol": "all",
            "related_crn": "crn:v1:bluemix:public:is:us-south:a/6991a6797b7b4754947b081d8dedc6e7::security-group:r006-4b17d9e2-febd-481c-b877-e56620eef5f3",
            "remote": "0.0.0.0/0",
            "rule_id": "r006-92a6d323-43a6-4000-82df-b3ae28ca8451",
            "tcp": [],
            "udp": []
          },
          "private": "bnVsbA==",
          "dependencies": [
            "ibm_is_security_group.vnf_security_group",
            "ibm_is_security_group_rule.vnf_sg_allow_ssh"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "ibm_is_security_group_rule",
      "name": "vnf_sg_rule_out_all",
      "provider": "provider.ibm",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "direction": "outbound",
            "group": "r006-4b17d9e2-febd-481c-b877-e56620eef5f3",
            "icmp": [],
            "id": "r006-4b17d9e2-febd-481c-b877-e56620eef5f3.r006-3a28121a-0bee-4fe4-aa97-21fb6db438ae",
            "ip_version": "ipv4",
            "protocol": "all",
            "related_crn": "crn:v1:bluemix:public:is:us-south:a/6991a6797b7b4754947b081d8dedc6e7::security-group:r006-4b17d9e2-febd-481c-b877-e56620eef5f3",
            "remote": "0.0.0.0/0",
            "rule_id": "r006-3a28121a-0bee-4fe4-aa97-21fb6db438ae",
            "tcp": [],
            "udp": []
          },
          "private": "bnVsbA==",
          "dependencies": [
            "ibm_is_security_group.vnf_security_group",
            "ibm_is_security_group_rule.vnf_sg_allow_ssh",
            "ibm_is_security_group_rule.vnf_sg_rule_in_all"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "random_uuid",
      "name": "test",
      "provider": "provider.random",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "bff39931-f8f6-8642-f712-254aa9b19d33",
            "keepers": null,
            "result": "bff39931-f8f6-8642-f712-254aa9b19d33"
          },
          "private": "bnVsbA=="
        }
      ]
    }
  ]
}
